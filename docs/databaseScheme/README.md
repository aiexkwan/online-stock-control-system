# [系統名稱] - 資料庫結構完整版

> 📅 最後更新：[更新日期]  
> 📊 總表格數量：[表格數量]個  
> 🔍 覆蓋 Schema：[Schema列表]

## 1. 核心業務表格 (Public Schema)

### 1.1 [業務模塊名稱] - [模塊描述]

#### `[表格名稱]` - [表格中文說明]
- **主要用途**：[表格功能描述]
- **主鍵**：`[主鍵欄位]` ([主鍵類型說明])
- **核心欄位**：
  - `[欄位名稱]`: [欄位描述] ([約束條件])
  - `[欄位名稱]`: [欄位描述] (預設: [預設值])
  - `[欄位名稱]`: [欄位描述] (外鍵: [關聯表格].[關聯欄位])
  - `[欄位名稱]`: [欄位描述] (可空)
- **關聯表格**：[被哪些表格參照或參照哪些表格]

#### `[表格名稱]` - [表格中文說明]
- **主要用途**：[表格功能描述]
- **複合主鍵**：`[欄位1]`, `[欄位2]` (如適用)
- **核心欄位**：
  - `[欄位名稱]`: [欄位描述] (主鍵)
  - `[欄位名稱]`: [欄位描述] (唯一)
  - `[欄位名稱]`: [欄位描述] (生成欄位)
  - `created_at`/`updated_at`: 建立/更新時間 (預設: now())

### 1.2 [業務模塊名稱] - [模塊描述]

[重複上述表格結構...]

## 2. [其他Schema名稱] (Schema Name)

### 2.1 [子模塊名稱]

#### `[schema].[表格名稱]` - [表格說明]
- **主要用途**：[表格功能描述]
- **主鍵**：`[主鍵欄位]`
- **核心欄位**：
  - `[欄位名稱]`: [欄位描述] ([約束條件])
  - [其他欄位...]

[根據需要添加更多Schema...]

## 主要外鍵關係圖

### [業務關係名稱]
```
[主表] (描述) ←→ [關聯表] (描述)
                 ↓
              [子表] (描述)
                 ↓
              [孫表] (描述)

[另一組關係]
[表A] (描述) ←→ [表B] (描述)
           ↓
        [表C] (描述)
```

### [另一業務關係名稱]
```
[表格關係圖示例]
```

## 重要業務規則

### [業務規則類別]
- **[規則名稱]**：[規則描述]
- **[規則名稱]**：[規則描述]
- **[規則名稱]**：[規則描述]

### [另一業務規則類別]
- **[規則名稱]**：[規則描述]
- **[規則名稱]**：[規則描述]

## 索引策略

### 主要索引
| 表格名稱 | 索引名稱 | 索引欄位 | 索引類型 | 用途說明 |
|---------|---------|----------|----------|----------|
| `[表格]` | `[索引名]` | `[欄位列表]` | [B-tree/GIN/GIST] | [性能優化說明] |
| `[表格]` | `[索引名]` | `[欄位列表]` | [索引類型] | [用途說明] |

### 複合索引
| 表格名稱 | 索引欄位組合 | 查詢場景 |
|---------|-------------|----------|
| `[表格]` | `([欄位1], [欄位2])` | [具體查詢場景] |
| `[表格]` | `([欄位1], [欄位2], [欄位3])` | [具體查詢場景] |

## 資料完整性約束

### 外鍵約束
| 子表 | 外鍵欄位 | 父表 | 參照欄位 | 約束行為 |
|------|---------|------|----------|----------|
| `[子表]` | `[外鍵欄位]` | `[父表]` | `[主鍵欄位]` | [CASCADE/RESTRICT/SET NULL] |

### 檢查約束
| 表格 | 約束名稱 | 約束條件 | 說明 |
|------|---------|----------|------|
| `[表格]` | `[約束名]` | `[SQL條件]` | [約束說明] |

### 唯一約束
| 表格 | 唯一欄位 | 說明 |
|------|---------|------|
| `[表格]` | `([欄位組合])` | [唯一性說明] |

## 資料遷移記錄

### 歷史遷移
| 版本 | 日期 | 變更內容 | 影響表格 |
|------|------|----------|----------|
| `[版本號]` | [日期] | [變更描述] | `[表格列表]` |
| `[版本號]` | [日期] | [變更描述] | `[表格列表]` |

### 待辦遷移
- [ ] **[遷移項目]**：[遷移描述] (預計: [日期])
- [ ] **[遷移項目]**：[遷移描述] (預計: [日期])

## 性能監控指標

### 關鍵表格大小
| 表格名稱 | 預估記錄數 | 增長率 | 監控閾值 |
|---------|-----------|--------|----------|
| `[表格]` | [數量] | [每日/月增長] | [警告閾值] |
| `[表格]` | [數量] | [增長率] | [警告閾值] |

### 慢查詢監控
- **[查詢場景]**：平均執行時間 < [時間]ms
- **[查詢場景]**：平均執行時間 < [時間]ms

## 備份與恢復策略

### 備份計劃
- **完整備份**：[頻率] ([時間])
- **增量備份**：[頻率] ([時間])
- **日誌備份**：[頻率]

### 關鍵資料保護
| 資料類型 | 備份頻率 | 保存期限 | 恢復目標 |
|---------|---------|----------|----------|
| [資料類型] | [頻率] | [期限] | [RTO/RPO] |

## 數據統計摘要

- **總表格數量**：[數量]個
- **[Schema1]**：[數量]個 ([Schema描述])
- **[Schema2]**：[數量]個 ([Schema描述])
- **[Schema3]**：[數量]個 ([Schema描述])

### 業務模塊分佈
| 模塊名稱 | 表格數量 | 核心表格 | 說明 |
|---------|---------|----------|------|
| [模塊名] | [數量] | `[核心表格列表]` | [模塊說明] |
| [模塊名] | [數量] | `[核心表格列表]` | [模塊說明] |

### 資料量分佈
| 資料類型 | 佔比 | 增長趨勢 | 備註 |
|---------|------|----------|------|
| [資料類型] | [百分比] | [趨勢] | [說明] |
| [資料類型] | [百分比] | [趨勢] | [說明] |

## 安全與權限

### 資料分類
| 敏感度 | 表格範例 | 存取控制 | 加密要求 |
|--------|---------|----------|----------|
| **高敏感** | `[表格列表]` | [權限描述] | [加密方式] |
| **中敏感** | `[表格列表]` | [權限描述] | [加密方式] |
| **低敏感** | `[表格列表]` | [權限描述] | [加密方式] |

### 存取權限矩陣
| 角色 | 讀取權限 | 寫入權限 | 刪除權限 | 管理權限 |
|------|---------|----------|----------|----------|
| [角色名] | `[表格列表]` | `[表格列表]` | `[表格列表]` | `[表格列表]` |

## 文檔維護

### 更新記錄
| 日期 | 更新者 | 更新內容 | 版本 |
|------|--------|----------|------|
| [日期] | [姓名] | [變更內容] | [版本號] |

### 審核記錄
| 審核日期 | 審核者 | 審核結果 | 建議 |
|---------|--------|----------|------|
| [日期] | [姓名] | [通過/需修改] | [建議內容] |

---

> **使用說明**：
> 1. 將 `[佔位符]` 替換為實際內容
> 2. 根據項目需要增減章節
> 3. 保持格式一致性
> 4. 定期更新和審核
> 5. 確保所有關聯關係準確

> **維護責任**：
> - **文檔管理員**

*本文檔反映了 [系統名稱] 的完整資料庫結構，包括所有核心業務邏輯和系統表格。所有表格結構、欄位類型、預設值和外鍵關係均基於實際資料庫狀態。*