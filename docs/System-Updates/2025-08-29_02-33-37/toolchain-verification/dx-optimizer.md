# é–‹ç™¼é«”é©—å„ªåŒ–å™¨ (DX Optimizer) - å·¥å…·éˆé©—è­‰å ±å‘Š

_åŸ·è¡Œæ™‚é–“: 2025-08-29 02:33:37_

## æƒææ‘˜è¦

æœ¬æ¬¡æƒæå°å°ˆæ¡ˆçš„é–‹ç™¼å·¥å…·é…ç½®é€²è¡Œäº†å…¨é¢é©—è­‰ï¼ŒåŒ…æ‹¬ä¾è³´ç‰ˆæœ¬ã€é…ç½®æ–‡ä»¶å®Œæ•´æ€§èˆ‡ npm scripts æœ‰æ•ˆæ€§æª¢æŸ¥ã€‚

## æ ¸å¿ƒé–‹ç™¼å·¥å…·ç‰ˆæœ¬

### åŒ…ç®¡ç†èˆ‡å»ºç½®å·¥å…·

- **åŒ…ç®¡ç†å™¨**: npm (å°ˆæ¡ˆæ¨™æº–)
- **TypeScript**: 5.8.3
- **Next.js**: 15.4.4
- **æ§‹å»ºå„ªåŒ–**: @next/bundle-analyzer 15.1.1

### ä»£ç¢¼è³ªé‡ä¿éšœå·¥å…·

- **ESLint**: 8.57.1
  - @typescript-eslint/eslint-plugin: 8.37.0
  - @typescript-eslint/parser: 8.37.0
  - eslint-config-next: 15.1.1
  - eslint-config-prettier: 9.1.0
- **Prettier**: 3.4.2
  - prettier-plugin-tailwindcss: 0.6.9

### GraphQL å·¥å…·éˆ

- **@graphql-codegen/cli**: 5.0.7
- **@graphql-codegen/typescript**: 4.1.6
- **@graphql-codegen/typescript-operations**: 4.6.1
- **@graphql-codegen/typescript-react-apollo**: 4.3.3
- **@graphql-codegen/introspection**: 4.0.3

### æ¸¬è©¦ç”Ÿæ…‹ç³»çµ±

- **Jest**: 29.7.0
  - @testing-library/jest-dom: 6.6.3
  - @testing-library/react: 16.3.0
  - @testing-library/user-event: 14.6.1
- **Vitest**: 3.2.4
  - @vitest/ui: 3.2.4
  - @vitest/coverage-v8: 3.2.4
  - @vitest/browser: 3.2.4
- **Playwright**: 1.54.1
  - @axe-core/playwright: 4.10.2
- **MSW**: 2.10.3

### é–‹ç™¼å·¥å…·èˆ‡ç›£æ§

- **Cross-env**: 7.0.3
- **Nodemon**: 3.1.10
- **Madge**: 8.0.0 (ä¾è³´åˆ†æ)
- **TSX**: 4.20.3
- **Lighthouse CI**: @lhci/cli 0.15.1

## é…ç½®æ–‡ä»¶é©—è­‰çµæœ

### âœ… ESLint é…ç½® (`.eslintrc.json`)

- **ç‹€æ…‹**: å·²æ­£ç¢ºé…ç½®
- **ç‰¹é»**:
  - æ•´åˆ Next.js Core Web Vitals è¦å‰‡
  - TypeScript åš´æ ¼æª¢æŸ¥è¦å‰‡
  - Import çµ„ç¹”è¦å‰‡ (éƒ¨åˆ†ç¦ç”¨ä»¥é©æ‡‰æ—¢æœ‰ä»£ç¢¼)
  - æ¸¬è©¦æ–‡ä»¶ä¾‹å¤–è¦å‰‡é…ç½®å®Œå–„
  - é™åˆ¶é¡å‹å°å…¥è·¯å¾‘ï¼Œå¼·åˆ¶ä½¿ç”¨ç›´æ¥è·¯å¾‘

### âœ… Prettier é…ç½® (`.prettierrc.json`)

- **ç‹€æ…‹**: å·²æ­£ç¢ºé…ç½®
- **ç‰¹é»**:
  - è¡Œå¯¬: 100 å­—ç¬¦
  - ç¸®é€²: 2 ç©ºæ ¼
  - å–®å¼•è™Ÿå„ªå…ˆ
  - Tailwind CSS æ’ä»¶æ•´åˆ
  - ES5 å°¾é€—è™Ÿé¢¨æ ¼

### âœ… GraphQL ä»£ç¢¼ç”Ÿæˆ (`codegen.yml`)

- **ç‹€æ…‹**: å·²æ­£ç¢ºé…ç½®
- **åŠŸèƒ½**:
  - è‡ªå‹•ç”Ÿæˆ TypeScript é¡å‹å®šç¾©
  - Apollo Client hooks ç”Ÿæˆ
  - å…§çœ schema å°å‡º
  - Prettier å¾Œè™•ç†è‡ªå‹•æ ¼å¼åŒ–

### âœ… TypeScript é…ç½® (`tsconfig.json`)

- **ç‹€æ…‹**: å·²æ­£ç¢ºé…ç½®
- **ç‰¹é»**:
  - ES2020 ç›®æ¨™ç’°å¢ƒ
  - åš´æ ¼æ¨¡å¼å•Ÿç”¨
  - è·¯å¾‘åˆ¥åå®Œæ•´é…ç½® (`@/*`, `@/lib/*`, `@/components/*` ç­‰)
  - æ¸¬è©¦èˆ‡æ§‹å»ºæ–‡ä»¶é©ç•¶æ’é™¤

## npm Scripts æ¶æ§‹åˆ†æ

### ğŸ”„ é–‹ç™¼èˆ‡å»ºç½®æµç¨‹

```bash
# é–‹ç™¼ç’°å¢ƒ
npm run dev              # æ¨™æº–é–‹ç™¼æ¨¡å¼
npm run dev-c           # æ¸…ç†å¾Œé–‹ç™¼æ¨¡å¼
npm run build           # ç”Ÿç”¢å»ºç½®
npm run typecheck       # TypeScript æª¢æŸ¥
```

### ğŸ¨ ä»£ç¢¼è³ªé‡æµç¨‹

```bash
npm run lint            # ESLint æª¢æŸ¥
npm run format          # Prettier æ ¼å¼åŒ–
npm run format:check    # æ ¼å¼æª¢æŸ¥
```

### ğŸ§ª æ¸¬è©¦ç”Ÿæ…‹ç³»çµ±

```bash
# Jest æ¸¬è©¦å¥—ä»¶
npm run test            # åŸºæœ¬æ¸¬è©¦
npm run test:unit       # å–®å…ƒæ¸¬è©¦
npm run test:integration # æ•´åˆæ¸¬è©¦
npm run test:coverage   # è¦†è“‹ç‡å ±å‘Š

# Vitest æ¸¬è©¦å¥—ä»¶
npm run vitest          # Vitest æ¸¬è©¦
npm run vitest:ui       # æ¸¬è©¦ UI ä»‹é¢
npm run vitest:coverage # Vitest è¦†è“‹ç‡

# E2E æ¸¬è©¦
npm run test:e2e        # Playwright E2E
npm run test:a11y       # ç„¡éšœç¤™æ€§æ¸¬è©¦
```

### âš¡ æ€§èƒ½èˆ‡åˆ†æå·¥å…·

```bash
npm run analyze         # Bundle åˆ†æ
npm run lighthouse      # æ€§èƒ½è©•åˆ†
npm run benchmark       # æ€§èƒ½åŸºæº–æ¸¬è©¦
```

### ğŸ”§ å°ˆæ¡ˆç‰¹å®šå·¥å…·

```bash
npm run codegen         # GraphQL ä»£ç¢¼ç”Ÿæˆ
npm run tech-debt:collect # æŠ€è¡“å‚µå‹™æ”¶é›†
npm run api:scan        # API æƒæå·¥å…·
```

## é–‹ç™¼å·¥ä½œæµç¨‹æœ€ä½³å¯¦è¸

### ä»£ç¢¼è³ªé‡ä¿éšœæµç¨‹

æœ¬å°ˆæ¡ˆå·²å»ºç«‹å®Œæ•´çš„ä»£ç¢¼è³ªé‡è‡ªå‹•åŒ–æµç¨‹ï¼š

1. **é æäº¤æª¢æŸ¥**: æ•´åˆ ESLint èˆ‡ Prettier çš„è‡ªå‹•æª¢æŸ¥
2. **é¡å‹å®‰å…¨**: TypeScript åš´æ ¼æ¨¡å¼èˆ‡è·¯å¾‘åˆ¥åå„ªåŒ–
3. **GraphQL åŒæ­¥**: è‡ªå‹•åŒ–çš„ Schema èˆ‡é¡å‹ç”Ÿæˆæµç¨‹

### GraphQL é–‹ç™¼æµç¨‹

é–‹ç™¼è€…ä¿®æ”¹ GraphQL resolvers æˆ– typeDefs å¾Œçš„æ¨™æº–æµç¨‹ï¼š

1. åŸ·è¡Œ `npm run codegen` ç”Ÿæˆæœ€æ–°é¡å‹å®šç¾©
2. ç¢ºä¿å‰ç«¯ Apollo Client hooks èˆ‡å¾Œç«¯ Schema åŒæ­¥
3. é‹è¡Œç›¸é—œæ¸¬è©¦é©—è­‰åŠŸèƒ½å®Œæ•´æ€§

## å·¥å…·éˆå¥åº·åº¦è©•ä¼°

### âœ… å„ªå‹¢é ˜åŸŸ

- **ç‰ˆæœ¬ä¸€è‡´æ€§**: æ‰€æœ‰å·¥å…·ç‰ˆæœ¬éƒ½è™•æ–¼ç¾ä»£åŒ–æ°´æº–
- **é…ç½®å®Œæ•´æ€§**: å„å·¥å…·é…ç½®æª”æ¡ˆè¨­ç½®å®Œå–„ä¸”ç›¸äº’æ•´åˆ
- **è…³æœ¬è±å¯Œåº¦**: npm scripts è¦†è“‹é–‹ç™¼é€±æœŸå„å€‹éšæ®µ
- **è‡ªå‹•åŒ–ç¨‹åº¦**: ä»£ç¢¼æ ¼å¼åŒ–ã€é¡å‹ç”Ÿæˆç­‰é—œéµæµç¨‹å·²è‡ªå‹•åŒ–

### ğŸ” å»ºè­°æ”¹é€²

- **é æäº¤é‰¤å­**: å¯è€ƒæ…®åŠ å¼· Git hooks æ•´åˆï¼Œç¢ºä¿ä»£ç¢¼æäº¤å‰è‡ªå‹•é‹è¡Œè³ªé‡æª¢æŸ¥
- **è…³æœ¬åˆ†é¡**: npm scripts æ•¸é‡çœ¾å¤šï¼Œå¯è€ƒæ…®æŒ‰åŠŸèƒ½åˆ†é¡çµ„ç¹”ä»¥æå‡å¯è®€æ€§
- **æ–‡æª”åŒæ­¥**: å·¥å…·ç‰ˆæœ¬æ›´æ–°æ™‚éœ€åŒæ­¥æ›´æ–°ç›¸é—œæŠ€è¡“æ–‡æª”

## çµè«–

å°ˆæ¡ˆçš„é–‹ç™¼å·¥å…·éˆé…ç½®å®Œå–„ä¸”ç¾ä»£åŒ–ï¼Œå„å·¥å…·é–“æ•´åˆè‰¯å¥½ï¼Œç‚ºé–‹ç™¼åœ˜éšŠæä¾›äº†é«˜æ•ˆçš„é–‹ç™¼é«”é©—ã€‚é…ç½®æ–‡ä»¶ç®¡ç†è¦ç¯„ï¼Œnpm scripts åŠŸèƒ½å…¨é¢ï¼Œç¬¦åˆç¾ä»£ TypeScript/Next.js å°ˆæ¡ˆçš„æœ€ä½³å¯¦è¸ã€‚

å»ºè­°å®šæœŸæ›´æ–°å·¥å…·ç‰ˆæœ¬ä¸¦åŒæ­¥æ›´æ–°æŠ€è¡“æ–‡æª”ï¼Œä»¥ç¶­æŒå·¥å…·éˆçš„æœ€ä½³ç‹€æ…‹ã€‚
