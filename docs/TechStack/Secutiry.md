# 安全性 (Security)

_最後更新日期: 2025-08-27 10:42:20_

## 認證與授權

- **認證機制**: Supabase Auth (JWT)
- **授權機制**: 109個RLS策略, 中間件權限檢查

## 敏感資訊管理

- **日誌消毒**: `enhanced-logger-sanitizer.ts` (302行)
- **憑證管理**: `credentials-manager.ts` (242行)
- **密碼加密**: bcryptjs 3.0.2
- **令牌管理**: jsonwebtoken 9.0.2

### 日誌消毒器 (`enhanced-logger-sanitizer.ts`) 工作原理

為了防止敏感資訊（如密碼、API 金鑰、個人身份資訊）意外洩露到日誌系統中，我們實現了一個自定義的日誌消毒器。

- **核心機制**: 該模組會在日誌被寫入之前攔截所有日誌對象。它會遞歸地遍歷日誌對象的所有鍵值對。
- **消毒規則**:
  - 它會檢查每個 `key` 是否包含在一個預定義的敏感關鍵字列表中（例如 `password`, `token`, `apiKey`, `email`）。
  - 如果 `key` 匹配成功，對應的 `value` 會被替換為 `[REDACTED]`。
- **目的**: 確保即使在詳細的偵錯日誌模式下，系統也不會記錄任何可能危害用戶或系統安全的敏感數據。
