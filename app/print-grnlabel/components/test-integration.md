# GRN Label 重構後整合測試

## 測試目標
驗證重構後的 GRN Label 系統功能完整性和性能表現。

## 測試環境
- **URL**: http://localhost:3000/print-grnlabel
- **瀏覽器**: Chrome, Firefox, Safari, Edge
- **設備**: 桌面、平板、手機

## 功能測試清單

### 1. 頁面載入測試
- [ ] 頁面正常載入（HTTP 200）
- [ ] 所有組件正確渲染
- [ ] 響應式佈局在不同設備上正常顯示
- [ ] 無 JavaScript 錯誤

### 2. 表單功能測試
- [ ] GRN Number 輸入正常
- [ ] Material Supplier 輸入和驗證
- [ ] Product Code 輸入和自動驗證
- [ ] Pallet Type 互斥選擇
- [ ] Package Type 互斥選擇
- [ ] Gross Weight 動態輸入欄位

### 3. 驗證功能測試
- [ ] 供應商代碼驗證（有效/無效）
- [ ] 產品代碼驗證（有效/無效）
- [ ] 表單完整性驗證
- [ ] 錯誤信息正確顯示

### 4. 認證系統測試
- [ ] Clock Number 對話框正常開啟
- [ ] Clock Number 驗證功能
- [ ] 認證成功後流程繼續
- [ ] 認證失敗處理

### 5. PDF 生成測試
- [ ] 單個托盤 PDF 生成
- [ ] 多個托盤 PDF 生成
- [ ] 進度條正確顯示
- [ ] 錯誤處理機制

### 6. 響應式設計測試
- [ ] 移動設備佈局（< 768px）
- [ ] 平板設備佈局（768px - 1024px）
- [ ] 桌面設備佈局（> 1024px）
- [ ] 觸控友好的界面元素

### 7. 性能測試
- [ ] 頁面載入時間 < 3秒
- [ ] 表單響應時間 < 500ms
- [ ] 無記憶體洩漏
- [ ] 無不必要的重渲染

## 測試數據

### 有效測試數據
```
GRN Number: GRN-2025-001
Material Supplier: SUP001 (需要在 data_supplier 表中存在)
Product Code: PROD001 (需要在 data_code 表中存在)
Pallet Type: White Dry = 1
Package Type: Still = 1
Gross Weight: 100
```

### 無效測試數據
```
Material Supplier: INVALID_SUP
Product Code: INVALID_PROD
Gross Weight: -10 或 0
```

## 預期結果

### 成功場景
1. 表單填寫完整且有效
2. Clock Number 驗證通過
3. PDF 成功生成和列印
4. 資料庫記錄正確創建
5. 表單重置為初始狀態

### 錯誤場景
1. 無效供應商代碼 → 顯示錯誤信息
2. 無效產品代碼 → 顯示錯誤信息
3. 表單不完整 → 阻止提交並提示
4. Clock Number 驗證失敗 → 顯示錯誤並重試
5. PDF 生成失敗 → 顯示錯誤並跳過

## 回歸測試

### 與原版本對比
- [ ] 所有原有功能保持不變
- [ ] 用戶體驗得到改善
- [ ] 性能有所提升
- [ ] 無新增 bug

### 與 QC Label 系統對比
- [ ] 共享組件行為一致
- [ ] 視覺風格統一
- [ ] 響應式行為相同
- [ ] 錯誤處理模式一致

## 測試報告模板

```
測試日期: ___________
測試人員: ___________
瀏覽器: _____________
設備: _______________

功能測試結果:
□ 通過 □ 失敗 - 頁面載入
□ 通過 □ 失敗 - 表單功能
□ 通過 □ 失敗 - 驗證功能
□ 通過 □ 失敗 - 認證系統
□ 通過 □ 失敗 - PDF 生成
□ 通過 □ 失敗 - 響應式設計
□ 通過 □ 失敗 - 性能表現

發現問題:
1. ________________________
2. ________________________
3. ________________________

總體評價:
□ 優秀 □ 良好 □ 需要改進 □ 不合格
```

## 自動化測試建議

### 單元測試
- 表單驗證邏輯
- 重量計算函數
- 錯誤處理機制

### 整合測試
- API 調用
- 資料庫操作
- PDF 生成流程

### E2E 測試
- 完整用戶流程
- 跨瀏覽器兼容性
- 響應式設計驗證 