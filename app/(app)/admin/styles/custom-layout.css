.custom-theme-container {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
  grid-template-rows: 100px 100px 100px 100px 100px 100px 100px 100px;
  gap: 10px 10px;
  grid-auto-columns: auto;
  justify-items: stretch;
  width: 100%;
  min-height: 800px;
  padding: 20px;
}

.custom-theme-item[data-widget-index='0'] {
  grid-row: 1 / 9;
  grid-column: 9 / 11;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='1'] {
  grid-area: 1 / 1 / 2 / 2;
  grid-column: 1 / 3;
  grid-row: 1 / 3;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='2'] {
  grid-area: 1 / 3 / 2 / 4;
  grid-column: 3 / 5;
  grid-row: 1 / 3;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='3'] {
  grid-area: 1 / 5 / 2 / 6;
  grid-column: 5 / 7;
  grid-row: 1 / 3;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='4'] {
  grid-area: 1 / 7 / 2 / 8;
  grid-column: 7 / 9;
  grid-row: 1 / 3;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='5'] {
  grid-area: 3 / 1 / 4 / 2;
  grid-column: 1 / 4;
  grid-row: 3 / 6;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='6'] {
  grid-area: 3 / 4 / 4 / 5;
  grid-column: 4 / 7;
  grid-row: 3 / 6;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='7'] {
  grid-area: 3 / 7 / 4 / 8;
  grid-column: 7 / 9;
  grid-row: 3 / 6;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='8'] {
  grid-area: 6 / 1 / 7 / 2;
  grid-column: 1 / 5;
  grid-row: 6 / 9;
  height: auto;
  width: auto;
}

.custom-theme-item[data-widget-index='9'] {
  grid-area: 6 / 5 / 7 / 6;
  grid-row: 6 / 9;
  grid-column: 5 / 9;
  height: auto;
  width: auto;
}

/* Upload Layout Styles */
.upload-container {
  display: grid;
  grid-template-areas:
    "widget1 widget1 widget1 widget2 widget2 widget2 widget3 widget3 widget7 widget7"
    "widget1 widget1 widget1 widget2 widget2 widget2 widget4 widget4 widget7 widget7"
    "widget1 widget1 widget1 widget2 widget2 widget2 widget5 widget5 widget7 widget7"
    "widget1 widget1 widget1 widget2 widget2 widget2 widget6 widget6 widget7 widget7";
  grid-template-columns: repeat(10, 1fr);
  grid-template-rows: repeat(4, 200px);
  gap: 10px 10px;
  width: 100%;
  min-height: 800px;
  padding: 20px;
}

.upload-item[data-widget-index='0'] {
  /* HistoryTree - widget7 */
  grid-area: widget7;
}

.upload-item[data-widget-index='1'] {
  /* OrdersListWidgetV2 - widget1 */
  grid-area: widget1;
}

.upload-item[data-widget-index='2'] {
  /* OtherFilesListWidgetV2 - widget2 */
  grid-area: widget2;
}

.upload-item[data-widget-index='3'] {
  /* UploadFilesWidget - widget3 */
  grid-area: widget3;
}

.upload-item[data-widget-index='4'] {
  /* UploadOrdersWidget - widget4 */
  grid-area: widget4;
}

.upload-item[data-widget-index='5'] {
  /* UploadProductSpecWidget - widget5 */
  grid-area: widget5;
}

.upload-item[data-widget-index='6'] {
  /* UploadPhotoWidget - widget6 */
  grid-area: widget6;
}

/* Update Layout Styles */
.update-container {
  display: grid;
  grid-template-areas:
    "widget2 widget2 widget2 widget4 widget4 widget4 widget4 widget4 widget1 widget1"
    "widget2 widget2 widget2 widget4 widget4 widget4 widget4 widget4 widget1 widget1"
    "widget3 widget3 widget3 widget4 widget4 widget4 widget4 widget4 widget1 widget1"
    "widget3 widget3 widget3 widget5 widget5 widget5 widget5 widget5 widget1 widget1";
  grid-template-columns: repeat(10, 1fr);
  grid-template-rows: repeat(4, 200px);
  gap: 10px 10px;
  width: 100%;
  min-height: 800px;
  padding: 20px;
}

.update-item[data-widget-index='0'] {
  /* HistoryTree - widget1 */
  grid-area: widget1;
}

.update-item[data-widget-index='1'] {
  /* ProductUpdateWidget - widget2 */
  grid-area: widget2;
}

.update-item[data-widget-index='2'] {
  /* SupplierUpdateWidgetV2 - widget3 */
  grid-area: widget3;
}

.update-item[data-widget-index='3'] {
  /* VoidPalletWidget - widget4 */
  grid-area: widget4;
}

.update-item[data-widget-index='4'] {
  /* PendingUpdates stats - widget5 */
  grid-area: widget5;
}

/* Stock Management Layout Styles */
.stock-management-container {
  display: grid;
  grid-template-areas:
    "widget2 widget2 widget2 widget2 widget2 widget4 widget4 widget4 widget1 widget1"
    "widget2 widget2 widget2 widget2 widget2 widget4 widget4 widget4 widget1 widget1"
    "widget3 widget3 widget3 widget3 widget3 widget5 widget5 widget5 widget1 widget1"
    "widget3 widget3 widget3 widget3 widget3 widget5 widget5 widget5 widget1 widget1";
  grid-template-columns: repeat(10, 1fr);
  grid-template-rows: repeat(4, 200px);
  gap: 10px 10px;
  width: 100%;
  min-height: 800px;
  padding: 20px;
}

.stock-management-item[data-widget-index='0'] {
  /* HistoryTree - widget1 */
  grid-area: widget1;
}

.stock-management-item[data-widget-index='1'] {
  /* StockTypeSelector - widget2 */
  grid-area: widget2;
}

.stock-management-item[data-widget-index='2'] {
  /* StockLevelHistoryChart - widget3 */
  grid-area: widget3;
}

.stock-management-item[data-widget-index='3'] {
  /* InventoryOrderedAnalysisWidget - widget4 */
  grid-area: widget4;
}

.stock-management-item[data-widget-index='4'] {
  /* StockDistributionChartV2 - widget5 */
  grid-area: widget5;
}

/* System Layout Styles */
.system-container {
  display: grid;
  grid-template-areas:
    "widget2 widget2 widget2 widget5 widget5 widget5 widget1 widget1"
    "widget3 widget3 widget3 widget6 widget6 widget6 widget1 widget1"
    "widget4 widget4 widget4 widget7 widget7 widget7 widget1 widget1"
    "widget8 widget8 widget8 widget9 widget9 widget9 widget1 widget1";
  grid-template-columns: repeat(8, 1fr);
  grid-template-rows: repeat(4, 200px);
  gap: 10px 10px;
  width: 100%;
  min-height: 800px;
  padding: 20px;
}

.system-item[data-widget-index='0'] {
  /* HistoryTree - widget1 */
  grid-area: widget1;
}

.system-item[data-widget-index='1'] {
  /* Void Pallet Report - widget2 */
  grid-area: widget2;
}

.system-item[data-widget-index='2'] {
  /* Order Loading Report - widget3 */
  grid-area: widget3;
}

.system-item[data-widget-index='3'] {
  /* Stock Take Report - widget4 */
  grid-area: widget4;
}

.system-item[data-widget-index='4'] {
  /* ACO Order Report - widget5 */
  grid-area: widget5;
}

.system-item[data-widget-index='5'] {
  /* Transaction Report - widget6 */
  grid-area: widget6;
}

.system-item[data-widget-index='6'] {
  /* GRN Report - widget7 */
  grid-area: widget7;
}

.system-item[data-widget-index='7'] {
  /* Export All Data - widget8 */
  grid-area: widget8;
}

.system-item[data-widget-index='8'] {
  /* Reprint Label - widget9 */
  grid-area: widget9;
}

/* Analysis Layout Styles - Phase 2.1 優化：14×10 簡化網格系統 */
.analysis-container {
  display: grid;
  grid-template-columns: repeat(14, 1fr);
  grid-template-rows: repeat(10, 1fr);
  gap: 10px;
  width: 100%;
  height: 100%;
  min-height: 800px;
  padding: 20px;
}

/* Tab-specific widget positioning - Phase 2.1 優化 */

/* 總覽 Tab - 大型展示區域 */
.analysis-container .overview-widget-0 {
  grid-column: 4 / 14;
  grid-row: 2 / 10;
}

.analysis-container .overview-widget-1 {
  grid-column: 2 / 4;
  grid-row: 2 / 5;
}

.analysis-container .overview-widget-2 {
  grid-column: 2 / 4;
  grid-row: 5 / 8;
}

.analysis-container .overview-widget-3 {
  grid-column: 2 / 4;
  grid-row: 8 / 10;
}

/* 庫存分析 Tab - 平均分配 */
.analysis-container .inventory-widget-0 {
  grid-column: 2 / 8;
  grid-row: 2 / 6;
}

.analysis-container .inventory-widget-1 {
  grid-column: 8 / 14;
  grid-row: 2 / 6;
}

.analysis-container .inventory-widget-2 {
  grid-column: 2 / 8;
  grid-row: 6 / 10;
}

.analysis-container .inventory-widget-3 {
  grid-column: 8 / 14;
  grid-row: 6 / 10;
}

/* 訂單分析 Tab - 混合佈局 */
.analysis-container .orders-widget-0 {
  grid-column: 2 / 10;
  grid-row: 2 / 6;
}

.analysis-container .orders-widget-1 {
  grid-column: 10 / 14;
  grid-row: 2 / 6;
}

.analysis-container .orders-widget-2 {
  grid-column: 2 / 8;
  grid-row: 6 / 10;
}

.analysis-container .orders-widget-3 {
  grid-column: 8 / 14;
  grid-row: 6 / 10;
}

/* 系統監控 Tab - 監控版面 */
.analysis-container .monitoring-widget-0 {
  grid-column: 2 / 14;
  grid-row: 2 / 5;
}

.analysis-container .monitoring-widget-1 {
  grid-column: 2 / 8;
  grid-row: 5 / 8;
}

.analysis-container .monitoring-widget-2 {
  grid-column: 8 / 14;
  grid-row: 5 / 8;
}

.analysis-container .monitoring-widget-3 {
  grid-column: 2 / 14;
  grid-row: 8 / 10;
}

/* Fallback 通用樣式 */
.analysis-container > * {
  border-radius: 8px;
  overflow: hidden;
  min-height: 200px;
}

/* 響應式設計 - 較小螢幕 */
@media (max-width: 1200px) {
  .analysis-container {
    grid-template-columns: repeat(8, 1fr);
    grid-template-rows: repeat(12, 1fr);
  }
  
  /* 調整 widget 位置以適應小螢幕 */
  .analysis-container .overview-widget-0 {
    grid-column: 1 / 9;
    grid-row: 4 / 12;
  }
  
  .analysis-container .overview-widget-1,
  .analysis-container .overview-widget-2,
  .analysis-container .overview-widget-3 {
    grid-column: 1 / 9;
    grid-row: auto;
    height: 150px;
  }
}

@media (max-width: 768px) {
  .analysis-container {
    grid-template-columns: 1fr;
    grid-template-rows: repeat(20, auto);
    gap: 15px;
  }
  
  .analysis-container > * {
    grid-column: 1;
    grid-row: auto;
    min-height: 250px;
  }
}
