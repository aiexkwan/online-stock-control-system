<testsuites id="" name="" tests="2" failures="1" skipped="0" errors="0" time="19.81394">
<testsuite name="api-call-monitor.spec.ts" timestamp="2025-07-13T23:30:58.156Z" hostname="chromium" tests="2" failures="1" skipped="0" time="34.679" errors="0">
<testcase name="API Call Monitoring › should monitor API calls on analysis theme with minimal widgets" classname="api-call-monitor.spec.ts" time="18.81">
<failure message="api-call-monitor.spec.ts:51:7 should monitor API calls on analysis theme with minimal widgets" type="FAILURE">
<![CDATA[  [chromium] › api-call-monitor.spec.ts:51:7 › API Call Monitoring › should monitor API calls on analysis theme with minimal widgets 

    Error: Timed out 5000ms waiting for expect(locator).toBeVisible()

    Locator: locator('main, [role="main"], .dashboard-content')
    Expected: visible
    Received: <element(s) not found>
    Call log:
      - Expect "toBeVisible" with timeout 5000ms
      - waiting for locator('main, [role="main"], .dashboard-content')


      92 |     
      93 |     // 6. 驗證頁面已正確加載（使用更寬鬆的選擇器）
    > 94 |     await expect(page.locator('main, [role="main"], .dashboard-content')).toBeVisible();
         |                                                                           ^
      95 |     
      96 |     // 7. 驗證至少有一些統計數據顯示（使用更寬鬆的選擇器） 
      97 |     const statsElements = page.locator('.stat-card, [data-testid*="stat"], .metric-card, .card');
        at /Users/kwanchuncheong/NewPennine/e2e/api-call-monitor.spec.ts:94:75

    attachment #1: screenshot (image/png) ──────────────────────────────────────────────────────────
    test-results/api-call-monitor-API-Call--4e259--theme-with-minimal-widgets-chromium/test-failed-1.png
    ────────────────────────────────────────────────────────────────────────────────────────────────

    attachment #2: video (video/webm) ──────────────────────────────────────────────────────────────
    test-results/api-call-monitor-API-Call--4e259--theme-with-minimal-widgets-chromium/video.webm
    ────────────────────────────────────────────────────────────────────────────────────────────────

    Error Context: ../test-results/api-call-monitor-API-Call--4e259--theme-with-minimal-widgets-chromium/error-context.md
]]>
</failure>
<system-out>
<![CDATA[🚀 Starting API call monitoring test...
[API-COUNT] Starting fresh: 0 calls
[API-CALL] GET http://localhost:3000/api/admin/dashboard/combined-stats?startDate=2025-07-13T23%3A00%3A00.000Z&endDate=2025-07-14T22%3A59%3A59.999Z
[API-CALL] GET http://localhost:3000/api/avatars/70021ec2-f987-4edc-8146-bb64589582a1.avif?size=40&quality=80
[API-RESPONSE] 200 http://localhost:3000/api/admin/dashboard/combined-stats?startDate=2025-07-13T23%3A00%3A00.000Z&endDate=2025-07-14T22%3A59%3A59.999Z
[API-RESPONSE] 404 http://localhost:3000/api/avatars/70021ec2-f987-4edc-8146-bb64589582a1.avif?size=40&quality=80
[API-COUNT] After analysis page load: 2 calls

📊 API Call Analysis:
Total API calls: 2
Unique endpoints: 2

Unique endpoints:
  /api/admin/dashboard/combined-stats: 1 calls
  /api/avatars/70021ec2-f987-4edc-8146-bb64589582a1.avif: 1 calls

All API calls:
  1. GET http://localhost:3000/api/admin/dashboard/combined-stats?startDate=2025-07-13T23%3A00%3A00.000Z&endDate=2025-07-14T22%3A59%3A59.999Z (200)
  2. GET http://localhost:3000/api/avatars/70021ec2-f987-4edc-8146-bb64589582a1.avif?size=40&quality=80 (404)

[[ATTACHMENT|api-call-monitor-API-Call--4e259--theme-with-minimal-widgets-chromium/test-failed-1.png]]

[[ATTACHMENT|api-call-monitor-API-Call--4e259--theme-with-minimal-widgets-chromium/video.webm]]

[[ATTACHMENT|api-call-monitor-API-Call--4e259--theme-with-minimal-widgets-chromium/error-context.md]]
]]>
</system-out>
</testcase>
<testcase name="API Call Monitoring › should compare full vs minimal analysis theme" classname="api-call-monitor.spec.ts" time="15.869">
<system-out>
<![CDATA[🚀 Starting comparison test...
[API-CALL] GET http://localhost:3000/api/admin/dashboard/combined-stats?startDate=2025-07-13T23%3A00%3A00.000Z&endDate=2025-07-14T22%3A59%3A59.999Z
[API-CALL] GET http://localhost:3000/api/avatars/70021ec2-f987-4edc-8146-bb64589582a1.avif?size=40&quality=80
[API-RESPONSE] 200 http://localhost:3000/api/admin/dashboard/combined-stats?startDate=2025-07-13T23%3A00%3A00.000Z&endDate=2025-07-14T22%3A59%3A59.999Z
[API-RESPONSE] 404 http://localhost:3000/api/avatars/70021ec2-f987-4edc-8146-bb64589582a1.avif?size=40&quality=80
Minimal analysis theme: 2 API calls
[API-CALL] GET http://localhost:3000/api/admin/dashboard/combined-stats?startDate=2025-07-13T23%3A00%3A00.000Z&endDate=2025-07-14T22%3A59%3A59.999Z
[API-CALL] GET http://localhost:3000/api/avatars/70021ec2-f987-4edc-8146-bb64589582a1.avif?size=40&quality=80
[API-RESPONSE] 200 http://localhost:3000/api/admin/dashboard/combined-stats?startDate=2025-07-13T23%3A00%3A00.000Z&endDate=2025-07-14T22%3A59%3A59.999Z
[API-RESPONSE] 404 http://localhost:3000/api/avatars/70021ec2-f987-4edc-8146-bb64589582a1.avif?size=40&quality=80
Full analysis theme: 2 API calls

📊 Comparison Results:
Minimal: 2 calls
Full: 2 calls
Reduction: 0 calls (0%)
]]>
</system-out>
</testcase>
</testsuite>
</testsuites>