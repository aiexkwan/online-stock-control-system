# SearchCard GraphQL Operations
# This file ensures that SearchCard types are generated by codegen

query SearchCard($input: SearchCardInput!) {
  searchCard(input: $input) {
    searchMeta {
      query
      processedQuery
      searchMode
      searchType
      entities
      totalResults
      searchTime
      hasMore
    }
    results {
      items {
        id
        entity
        title
        subtitle
        description
        relevanceScore
        matchedFields
        data {
          ... on ProductSearchResult {
            code
            description
            colour
            type
            totalStock
            totalPallets
            lastUpdated
          }
          ... on PalletSearchResult {
            pltNum
            series
            productCode
            productQty
            generateTime
            isAvailable
          }
        }
        actions {
          id
          label
          icon
          url
          action
          requiresAuth
        }
      }
      pageInfo {
        hasNextPage
        hasPreviousPage
        totalCount
      }
    }
    suggestions {
      text
      type
      entity
      count
      score
    }
  }
}

query SearchSuggestions($query: String!, $entity: SearchableEntity, $limit: Int) {
  searchSuggestions(query: $query, entity: $entity, limit: $limit) {
    text
    type
    entity
    count
    score
    metadata
  }
}

mutation SaveSearchConfig($input: SaveSearchConfigInput!) {
  saveSearchConfig(input: $input) {
    id
    name
    query
    entities
    filters
    isDefault
    isPublic
    createdAt
    usageCount
  }
}
